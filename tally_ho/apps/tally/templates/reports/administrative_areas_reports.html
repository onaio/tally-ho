{% extends 'base.html' %} {% load i18n %} {% block content %}

<h1>{{ report_name }}{% trans ' Reports' %}</h1>

<h3>{% trans 'Turn Out Report' %}</h3>
<a href="{% url turn_out_report_download_url tally_id 'turnout-csv' %}"
  >{% trans 'Export' %}</a
>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Number of voters' %}</th>
    <th>{% trans 'Number of voters voted' %}</th>
    <th>{% trans 'Male voters' %}</th>
    <th>{% trans 'Female voters' %}</th>
    <th>{% trans 'Turnout percentage' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not turnout_report %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in turnout_report %}
  <tr>
    <td>{{ rec.name }}</td>
    <td>{{ rec.total_number_of_registrants }}</td>
    <td>{{ rec.number_of_voters_voted }}</td>
    <td>{{ rec.male_voters }}</td>
    <td>{{ rec.female_voters }}</td>
    <td>{{ rec.turnout_percentage }} %</td>
    <td>
      <a
        href="{% url child_turnout_report_url tally_id rec.admin_area_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies Report</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>

<h3>{% trans 'Votes Summary Report' %}</h3>
<a href="{% url summary_report_download_url tally_id 'summary-csv' %}"
  >{% trans 'Export' %}</a
>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Total number of valid votes' %}</th>
    <th>{% trans 'Total number of invalid votes' %}</th>
    <th>{% trans 'Total number of cancelled votes' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not summary_report %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in summary_report %}
  <tr>
    <td>{{ rec.name }}</td>
    <td>{{ rec.number_valid_votes }}</td>
    <td>{{ rec.number_invalid_votes }}</td>
    <td>{{ rec.number_cancelled_ballots }}</td>
    <td>
      <a
        href="{% url 'constituency-summary-report' tally_id rec.admin_area_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies Report</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>

<h3>{% trans 'Process Discrepancy Reports' %}</h3>
<br />
<h4>{% trans 'Stations and Centers under process audit' %}</h4>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Centers' %}</th>
    <th>{% trans 'Stations' %}</th>
    <th>{% trans 'Total' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not admin_ares_with_forms_in_audit %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in admin_ares_with_forms_in_audit %}
  <tr>
    <td>{{ rec.admin_area_name }}</td>
    <td>{{ rec.number_of_centers_in_audit_state }}</td>
    <td>{{ rec.number_of_stations_in_audit_state }}</td>
    <td>{{ rec.total_num_of_centers_and_stations_in_audit }}</td>
    <td>
      <a
        href="{% url child_discrepancy_report_url tally_id rec.region_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies under process Audit</a
      >
      <a
        href="{% url regions_report_url tally_id rec.region_id 'centers-and-stations-in-audit-report' %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Centers and Stations under process Audit</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>
<br />
<h4>{% trans 'Stations and Centers under Investigation' %}</h4>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Centers' %}</th>
    <th>{% trans 'Stations' %}</th>
    <th>{% trans 'Total' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not centers_stations_under_invg %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in centers_stations_under_invg %}
  <tr>
    <td>{{ rec.admin_area_name }}</td>
    <td>{{ rec.number_of_centers }}</td>
    <td>{{ rec.number_of_stations }}</td>
    <td>{{ rec.total_number_of_centers_and_stations }}</td>
    <td>
      <a
        href="{% url 'constituencies-under-investigation-report' tally_id rec.region_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies under Investigation</a
      >
      <a
        href="{% url regions_report_url tally_id rec.region_id 'centers-and-stations-under-investigation' %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Centers and Stations under Investigation</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>
<br />
<h4>{% trans 'Stations and Centers excluded after investigation' %}</h4>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Centers' %}</th>
    <th>{% trans 'Stations' %}</th>
    <th>{% trans 'Total' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not centers_stations_ex_after_invg %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in centers_stations_ex_after_invg %}
  <tr>
    <td>{{ rec.admin_area_name }}</td>
    <td>{{ rec.number_of_centers }}</td>
    <td>{{ rec.number_of_stations }}</td>
    <td>{{ rec.total_number_of_centers_and_stations }}</td>
    <td>
      <a
        href="{% url 'constituencies-excluded-after-investigation-report' tally_id rec.region_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies excluded after investigation</a
      >
      <a
        href="{% url regions_report_url tally_id rec.region_id 'centers-and-stations-excluded-after-investigation' %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Centers and Stations excluded after investigation</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>

<h3>{% trans 'Progressive Report' %}</h3>
<table class="table table-striped">
  <tr>
    <th>{% trans 'Name' %}</th>
    <th>{% trans 'Total number of Candidates' %}</th>
    <th>{% trans 'Total number of Votes' %}</th>
    <th>{% trans 'Actions' %}</th>
  </tr>
  {% if not progressive_report %}
  <tr>
    <td>{% trans 'No Data' %}</td>
    <td></td>
    <td></td>
    <td></td>
  </tr>
  {% else %} {% for rec in progressive_report %}
  <tr>
    <td>{{ rec.name }}</td>
    <td>{{ rec.total_candidates }}</td>
    <td>{{ rec.total_votes }}</td>
    <td>
      <a
        href="{% url child_progressive_report_url tally_id rec.admin_area_id %}"
        class="btn btn-default btn-small vertical-margin"
        >Region Constituencies Progressive Report</a
      >
      <a
        href="{% url admin_area_votes_per_candidate_report_url tally_id rec.admin_area_id 'votes-per-candidate-report' %}"
        class="btn btn-default btn-small vertical-margin"
        >Region votes per candidate</a
      >
    </td>
  </tr>
  {% endfor %} {% endif %}
</table>

{% endblock %}
